/*jsl:option explicit*/
/*jsl:import shake-util.js*/
"use strict";

// Data
//     {name :: String
//     ,values :: [Progress]
//     }
//
// Progress
//     {idealSecs :: Double
//     ,idealPerc :: Double
//     ,actualSecs :: Double
//     ,actualPerc :: Double
//     }

$(function(){
    $(".version").html("Generated by <a href='https://github.com/ndmitchell/shake#readme'>Shake " + version + "</a>.");
    $("#output").html("");
    for (var i = 0; i < shake.length; i++)
    {
        var raw = [];
        var raw2 = [];
        for (var j = 5; j < shake[i].values.length; j++)
        {
            raw.push([shake[i].values[j].idealSecs, shake[i].values[j].actualSecs]);
            raw2.push([shake[i].values[j].idealSecs, shake[i].values[j].idealSecs]);
        }
        var ys = [{data:raw2, color:"gray"}, {label:shake[i].name, data:raw, color:"red"}];
        var div = $("<div style='float:left;'>").width(300).height(200);
        $("#output").append(div);
        $.plot(div, ys, {
            xaxis: {
                transform: function (v) { return -v; },
                inverseTransform: function (v) { return -v; }
            }
        });
    }
})
